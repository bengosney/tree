(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,n){t.exports=n(19)},16:function(t,e,n){},17:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var i=n(2),a=n.n(i),s=n(5),r=n.n(s),h=(n(16),n(0)),o=n(1),u=n(8),l=n(6),c=n(3),d=n(9),f=(n(17),n(7)),v=new(n.n(f).a)(Date.now()+Math.random()),g=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,100],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(h.a)(this,t),this.noise=v,this.length=e,this.a=0,this.range=n,this.r=i,this.start=null,this.xOffset=a||Math.floor(1e5*Math.random()),this.findStart(),this.reset()}return Object(o.a)(t,[{key:"setRange",value:function(t){this.range=t}},{key:"setRadius",value:function(t){this.radius=t}},{key:"scale",value:function(t,e,n){return(t-e[0])*(n[1]-n[0])/(e[1]-e[0])+n[0]}},{key:"reset",value:function(){this.a=this.start}},{key:"step",value:function(){return 2*Math.PI/this.length}},{key:"angle",value:function(t,e){var n=t-e,i=Math.atan2(n,10);return i*=180/Math.PI}},{key:"findStart",value:function(){if(null===this.start){for(var t=this.get(),e=Number.MAX_SAFE_INTEGER,n=0,i=0;i<this.length;i++){var a=this.get(),s=Math.abs(this.angle(t,a));s<e&&(e=s,n=this.a-2*this.step()),t=a}this.start=n}}},{key:"get",value:function(){var t=this.step(),e=this.r,n=this.a,i=e*Math.cos(n),a=e*Math.sin(n);return this.a+=t,this.scale(this.noise.noise2D(i+this.xOffset,a),[0,1],this.range)}}]),t}(),m=function(){function t(){Object(h.a)(this,t)}return Object(o.a)(t,null,[{key:"get",value:function(){return this.ctx}},{key:"set",value:function(t){this.ctx=t}},{key:"getOffscreen",value:function(t,e){return new OffscreenCanvas(t,e).getContext("2d")}}]),t}();m.ctx=null;var w=m,y=function(){function t(e,n,i,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;Object(h.a)(this,t);var o=e-i,u=n-a;this.length=Math.abs(Math.sqrt(o*o+u*u)),this.angle=this.getAngle(e,n,i,a),this.noiseShape=new g(this.length,[0,s],r),this.noiseDetail=new g(this.length,[0,Math.floor(s/5)],Math.floor(5*r)),this.x1=e,this.y1=n,this.x2=i,this.y2=a,this.yOffset=null}return Object(o.a)(t,[{key:"setAmplitude",value:function(t){this.noise.setRange([0,t])}},{key:"setFrequency",value:function(t){this.noise.setRadius(t)}},{key:"getAngle",value:function(t,e,n,i){var a=e-i,s=t-n;return Math.atan2(s,a)*(180/Math.PI)+90}},{key:"rotate",value:function(t,e,n,i,a){var s=Math.PI/180*a,r=Math.cos(s),h=Math.sin(s);return{ax:r*(n-t)+h*(i-e)+t,ay:r*(i-e)-h*(n-t)+e}}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=w.get(),n=this.noiseShape,i=this.noiseDetail,a=this.x1,s=this.y1,r=s;n.reset(),i.reset(),e.moveTo(a,s);for(var h=null,o=0;o<=this.length;o++){var u=n.get()+i.get(),l=o+a,c=r+u-(h=h||u),d=this.rotate(a,s,l,c,this.angle),f=d.ax,v=d.ay;e.lineTo(f,v),null!==t&&t(f,v)}}}]),t}(),b=function(){function t(e,n,i,a,s){Object(h.a)(this,t),this.x=e,this.y=n,this.radius=i,this.cx=a,this.cy=s}return Object(o.a)(t,[{key:"draw",value:function(){var t=w.get(),e=this.x,n=this.y,i=this.radius,a=this.cx,s=this.cy,r=function(t,e,n,i){return[t+n*Math.cos(i),e+n*Math.sin(i)]},h=function(t,e,n,i,a){return[t+(n-t)*a,e+(i-e)*a]},o=Math.atan2(n-s,e-a),u=Math.PI/180*90,l=i,c=r(e,n,l,o-u),d=r(e,n,l,o+u),f=h(a,s,c[0],c[1],5),v=h(a,s,d[0],d[1],5),g=t.createRadialGradient(a,s,2*l,a,s,0);g.addColorStop(0,"#fedee2"),g.addColorStop(.75,"#ffe8eb"),t.beginPath(),t.moveTo(a,s),t.lineTo(c[0],c[1]),t.bezierCurveTo(f[0],f[1],v[0],v[1],d[0],d[1]),t.lineTo(a,s),t.fillStyle=g,t.shadowColor="rgba(0, 0, 0, .075)",t.shadowBlur=3*i,t.fill()}}]),t}(),k=function(){function t(e,n,i){Object(h.a)(this,t),this.x=e,this.y=n,this.radius=i}return Object(o.a)(t,[{key:"draw",value:function(){for(var t,e,n=this.x,i=this.y,a=function(t,e,n,i,a){var s=Math.PI/180*a,r=Math.cos(s),h=Math.sin(s);return[r*(n-t)+h*(i-e)+t,r*(i-e)-h*(n-t)+e]},s=this.radius/4,r=a(n,i,n,i+s,(e=360,(t=0)+Math.random()*(e-t))),h=0;h<5;h++){new b(r[0],r[1],s,n,i).draw(),r=a(n,i,r[0],r[1],72)}}}]),t}(),M=function(){function t(e,n,i,a,s,r){Object(h.a)(this,t),this.x=e,this.y=n,this.width=i,this.height=a,this.levels=s,this.limbs=r}return Object(o.a)(t,[{key:"draw",value:function(){var t=this,e=this.x,n=this.y,i=this.height,a=w.get(),s=e,r=n,h=this.levels,o=function(t,e,n,i){var a=t-n,s=e-i;return Math.abs(Math.sqrt(a*a+s*s))},u=function(t,e){return t+Math.random()*(e-t)};(function e(n,i,s,r){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=o(n,i,s,r),d=new y(n,i,s,r,10,c/500),f=h-l;if(a.beginPath(),d.draw(),a.strokeStyle="#3d3d3d",a.lineWidth=f,a.shadowColor="rgba(0, 0, 0, .1)",a.shadowBlur=2*f,a.stroke(),l<=h)for(var v=function(t){var a=s,c=r,d=o(n,i,s,r)*(.45+u(0,.2)),f=s,v=r+d*u(1,.5),g=(function(t,e,n,i){var a=e-i,s=t-n;return Math.atan2(s,a)*(180/Math.PI)+90}(n,i,s,r)-90+t+u(-15,15))*(Math.PI/180),m=Math.cos(g)*(f-a)-Math.sin(g)*(v-c)+a,w=Math.sin(g)*(f-a)-Math.cos(g)*(v-c)+c;e(a,c,m,w,l+1),l===h&&new k(m,w,u(3,6)).draw()},g=t.limbs,m=0===l?g:u(2,g),w=90/(m-1),b=0;b<m;b++)v(w*b*u(1.2,.8)-45)})(s,r,s,r-.45*i)}}]),t}(),p=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).state={pixelSize:8,height:500,width:150,lenth:100,range:20,yOffset:null,drawing:!0},n.drawing=!1,n.ctx=null,n.line=n.updateWindowDimensions=n.updateWindowDimensions.bind(Object(c.a)(n)),n.startts=n.getTS(),n}return Object(d.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this.refs.canvas;w.set(t.getContext("2d",{alpha:!1})),this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){var t=this,e=document.documentElement,n=e.clientWidth,i=e.clientHeight,a=this.state.range,s=Math.floor(n/2),r=new g(s,[-a,a]);this.setState({width:n,height:i,noise:r,length:s},function(){t.initObjects(),t.nextFrame()})}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.rAF),window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateAnimationState",value:function(){this.ts=this.getTS(),this.clearFrame(),this.draw(),this.setState({drawing:!1})}},{key:"nextFrame",value:function(){var t=this;this.rAF=requestAnimationFrame(function(){return t.updateAnimationState()})}},{key:"newTree",value:function(){var t=this;this.setState({drawing:!0}),setTimeout(function(){t.nextFrame()},100)}},{key:"clearFrame",value:function(){var t=this.state,e=t.width,n=t.height,i=w.get(),a=Math.max(750,e),s=i.createRadialGradient(0,0,a,e/2,n/2,0);s.addColorStop(1,"#d1f2e8"),s.addColorStop(0,"#6d7580"),i.fillStyle=s,i.fillRect(0,0,e,n)}},{key:"getTS",value:function(){return(new Date).getTime()}},{key:"scale",value:function(t,e,n){return(t-e[0])*(n[1]-n[0])/(e[1]-e[0])+n[0]}},{key:"initObjects",value:function(){var t=this.state,e=t.width,n=t.height,i=[],a=new M(e/2,.9*n,.8*e,.8*n,4,5);this.renderElements=[],i.push(a),this.renderElements=i}},{key:"draw",value:function(){this.renderElements.map(function(t){return t.draw()})}},{key:"save",value:function(){var t=w.get().canvas.toDataURL("image/png"),e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download","tree.png"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},{key:"render",value:function(){var t=this,e=this.state,n=e.width,i=e.height,s=e.drawing;return a.a.createElement("div",{className:s?"drawing":""},a.a.createElement("div",{className:"controls"},a.a.createElement("button",{onClick:function(){return t.newTree()},disabled:s,className:"newTree"},"New Tree"),a.a.createElement("button",{onClick:function(){return t.save()},disabled:s,className:"save"},"Save PNG")),a.a.createElement("div",null,a.a.createElement("canvas",{ref:"canvas",width:n,height:i})))}}]),e}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.82570bc7.chunk.js.map